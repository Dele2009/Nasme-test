{% extends 'partials/user-base.html' %} {% load static %} {% block extraheadjs%}
<script
  src="https://cdn.tiny.cloud/1/s2wmyj0a6srmak9w1bbon5fxe4jkht4w3m939ojiva9ciw54/tinymce/7/tinymce.min.js"
  referrerpolicy="origin"
></script>
<script>
  tinymce.init({
    selector: "textarea",
    plugins:
      "lists link image preview code fullscreen anchor autolink emoticons searchreplace table visualblocks wordcount",
    toolbar:
      "undo redo | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image | preview fullscreen",
    height: 250,
    menubar: false,
    branding: false,
    setup: function (editor) {
      editor.on("change", function () {
        tinymce.triggerSave(); // Ensure that the TinyMCE content gets submitted on form submission
      });
    },
  });
</script>
{% endblock extraheadjs %} {% block styles %}
<style>
  .container {
    margin-top: 50px;
  }

  .message-list,
  .message-view {
    background-color: #ffffff;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    height: 500px;
    overflow-y: auto;
  }

  .message-item {
    padding: 20px;
    border-bottom: 1px solid #eaeaea;
    cursor: pointer;
    transition: background-color 0.2s;
    display: flex;
    align-items: center;
  }

  .message-item:hover {
    background-color: #e0f3df;
  }

  .message-icon {
    margin-right: 10px;
    font-size: 24px;
  }

  .message-title {
    font-weight: bold;
  }

  .message-view-header {
    background-color: #2e7d32;
    color: white;
    padding: 15px;
    border-radius: 10px 10px 0 0;
    font-weight: bold;
    display: flex;
    align-items: center;
  }

  .message-content {
    padding: 20px;
    height: 430px;
    overflow-y: auto;
  }

  .message-empty {
    color: #888;
    text-align: center;
    margin-top: 200px;
  }

  .message-icon {
    margin-right: 10px;
  }

  .message-type-icon {
    font-size: 30px;
    margin-right: 10px;
  }
</style>
{% endblock styles %} {% block content %}
<div class="container">
  <div class="row">
    <!-- Messages List Section -->
    <div class="col-md-4">
      <div class="message-list">
        <!-- Example Message Item with Warning Icon -->
        {% for message in messages %}
        <div data-bs-message='{
          "messageTitle" : "{{message.title}}",
          "messageContent" : "{{message.message}}",
          "messageType" : "{{message.message_type}}"
        }' class="message-item" onclick="viewMessage(1)">
          <i
            class="message-icon  bi {% if message.message_type == 'i' %}text-info bi-info-circle-fill{% elif message.message_type == 'w' %}text-warning bi-exclamation-triangle-fill{% elif message.message_type == 'e' %}text-danger bi-x-circle-fill{% endif %}"
          ></i>
          <div>
            <h5 class="message-title">{{message.title}}</h5>
            <p>Warning details go here...</p>
          </div>
        </div>
        {% endfor %}
        

       

        <!-- Add more messages as needed -->
      </div>
    </div>

    <!-- Message View Section -->
    <div class="col-md-8">
      <div class="message-view">
        <div class="message-view-header">
          <i class="message-type-icon" id="message-type-icon"></i>
          <span id="message-title">Select a Message</span>
        </div>
        <div class="message-content" id="message-content">
          <p class="message-empty">
            Please select a message to view its details.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function viewMessage(messageId) {
    const messageTitle = document.getElementById("message-title");
    const messageContent = document.getElementById("message-content");
    const messageIcon = document.getElementById("message-type-icon");

    // Add dynamic messages
    const messages = {
      1: {
        title: "Warning Message",
        content: "<p>This is the full content of the warning message.</p>",
        icon: "bi bi-exclamation-triangle-fill text-warning",
      },
      2: {
        title: "Info Message",
        content: "<p>This is the full content of the info message.</p>",
        icon: "bi bi-info-circle-fill text-info",
      },
      3: {
        title: "Error Message",
        content: "<p>This is the full content of the error message.</p>",
        icon: "bi bi-x-circle-fill text-danger",
      },
    };

    const message = messages[messageId];

    if (message) {
      messageTitle.innerText = message.title;
      messageContent.innerHTML = message.content;
      messageIcon.className = `message-type-icon ${message.icon}`;
    }
  }
</script>
{% endblock content %}
